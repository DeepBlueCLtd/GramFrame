<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Pattern Generator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background: #f0f0f0;
        }
        canvas {
            border: 2px solid #333;
            background: white;
            display: block;
            margin: 20px 0;
        }
        .controls {
            margin: 10px 0;
        }
        button {
            margin: 5px;
            padding: 8px 16px;
        }
    </style>
</head>
<body>
    <h2>Coordinate Test Pattern Generator</h2>
    
    <div class="controls">
        <button onclick="generatePattern(800, 600, 50)">800x600 - 50px grid</button>
        <button onclick="generatePattern(1200, 800, 100)">1200x800 - 100px grid</button>
        <button onclick="generatePattern(800, 400, 20)">800x400 - 20px grid</button>
    </div>
    
    <canvas id="testCanvas"></canvas>

    <script>
        function generatePattern(width, height, gridSize) {
            const canvas = document.getElementById('testCanvas');
            const ctx = canvas.getContext('2d');
            
            // Set canvas size
            canvas.width = width;
            canvas.height = height;
            
            // Clear canvas
            ctx.fillStyle = '#ffffff';
            ctx.fillRect(0, 0, width, height);
            
            // Draw major grid lines (every 5th line)
            ctx.strokeStyle = '#0066cc';
            ctx.lineWidth = 2;
            ctx.beginPath();
            
            // Vertical major lines
            for (let x = 0; x <= width; x += gridSize * 5) {
                ctx.moveTo(x, 0);
                ctx.lineTo(x, height);
            }
            
            // Horizontal major lines  
            for (let y = 0; y <= height; y += gridSize * 5) {
                ctx.moveTo(0, y);  
                ctx.lineTo(width, y);
            }
            ctx.stroke();
            
            // Draw minor grid lines
            ctx.strokeStyle = '#cccccc';
            ctx.lineWidth = 1;
            ctx.beginPath();
            
            // Vertical minor lines
            for (let x = gridSize; x < width; x += gridSize) {
                if (x % (gridSize * 5) !== 0) { // Skip major lines
                    ctx.moveTo(x, 0);
                    ctx.lineTo(x, height);
                }
            }
            
            // Horizontal minor lines
            for (let y = gridSize; y < height; y += gridSize) {
                if (y % (gridSize * 5) !== 0) { // Skip major lines
                    ctx.moveTo(0, y);
                    ctx.lineTo(width, y);
                }
            }
            ctx.stroke();
            
            // Add coordinate labels at major grid intersections
            ctx.fillStyle = '#0066cc';
            ctx.font = '12px Arial';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            
            // Labels at major grid intersections
            for (let x = 0; x <= width; x += gridSize * 5) {
                for (let y = 0; y <= height; y += gridSize * 5) {
                    const reversedY = height - y;
                    const label = `${x},${reversedY}`;
                    
                    // Add background rectangle for readability
                    const textWidth = ctx.measureText(label).width;
                    const padding = 4;
                    ctx.fillStyle = 'rgba(255, 255, 255, 0.8)';
                    ctx.fillRect(x - textWidth/2 - padding, y - 6 - padding, 
                                textWidth + padding*2, 12 + padding*2);
                    
                    // Draw the coordinate label
                    ctx.fillStyle = '#0066cc';
                    ctx.fillText(label, x, y);
                }
            }
            
            // Edge labels for reference (will disappear when zoomed)
            ctx.font = '10px Arial';
            ctx.fillStyle = '#666666';
            
            // X-axis labels (bottom edge)
            ctx.textAlign = 'center';
            ctx.textBaseline = 'top';
            for (let x = gridSize * 5; x < width; x += gridSize * 5) {
                ctx.fillText(x.toString(), x, height - 20);
            }
            
            // Y-axis labels (left edge)
            ctx.textAlign = 'left';
            ctx.textBaseline = 'middle';
            for (let y = gridSize * 5; y < height; y += gridSize * 5) {
                const reversedY = height - y;
                ctx.fillText(reversedY.toString(), 2, y);
            }
            
            // Add corner markers for easy reference
            ctx.fillStyle = '#ff0000';
            const markerSize = 8;
            
            // Top-left
            ctx.fillRect(0, 0, markerSize, markerSize);
            
            // Top-right  
            ctx.fillRect(width - markerSize, 0, markerSize, markerSize);
            
            // Bottom-left
            ctx.fillRect(0, height - markerSize, markerSize, markerSize);
            
            // Bottom-right
            ctx.fillRect(width - markerSize, height - markerSize, markerSize, markerSize);
            
            // Add center crosshair
            const centerX = width / 2;
            const centerY = height / 2;
            
            ctx.strokeStyle = '#ff0000';
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(centerX - 20, centerY);
            ctx.lineTo(centerX + 20, centerY);
            ctx.moveTo(centerX, centerY - 20);
            ctx.lineTo(centerX, centerY + 20);
            ctx.stroke();
            
            console.log(`Generated ${width}x${height} test pattern with ${gridSize}px grid`);
        }
        
        // Generate default pattern on load
        generatePattern(800, 400, 50);
    </script>
</body>
</html>